<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.awe.uc.dao.impl.OrderAddressDaoImpl">
    <resultMap id="OrderAddressMap" type="OrderAddress">
		<result column="id" property="id" jdbcType="DECIMAL" />
		<result column="User_No" property="userNo" jdbcType="DECIMAL" />
		<result column="Add_Name" property="addName" jdbcType="VARCHAR" />
		<result column="Add_Province_Name" property="addProvinceName" jdbcType="VARCHAR" />
		<result column="Add_Province_No" property="addProvinceNo" jdbcType="VARCHAR" />
		<result column="Add_City_Name" property="addCityName" jdbcType="VARCHAR" />
		<result column="Add_City_No" property="addCityNo" jdbcType="VARCHAR" />
		<result column="Add_Area_Name" property="addAreaName" jdbcType="VARCHAR" />
		<result column="Add_Area_No" property="addAreaNo" jdbcType="VARCHAR" />
		<result column="Add_Address" property="addAddress" jdbcType="VARCHAR" />
		<result column="Add_Mobile" property="addMobile" jdbcType="VARCHAR" />
		<result column="Add_Telephone" property="addTelephone" jdbcType="VARCHAR" />
		<result column="Add_Email" property="addEmail" jdbcType="VARCHAR" />
		<result column="Add_ZipCode" property="addZipcode" jdbcType="VARCHAR" />
		<result column="Create_Name" property="createName" jdbcType="VARCHAR" />
		<result column="Update_Name" property="updateName" jdbcType="VARCHAR" />
		<result column="Create_Time" property="createTime" jdbcType="TIMESTAMP" />
		<result column="Update_Time" property="updateTime" jdbcType="TIMESTAMP" />
		<result column="yn" property="yn" jdbcType="DECIMAL" />
    </resultMap>
    
    <sql id="orderAddressColumns">
    	id,User_No,Add_Name,Add_Province_Name,Add_Province_No,Add_City_Name,Add_City_No,Add_Area_Name,Add_Area_No,Add_Address,Add_Mobile,Add_Telephone,Add_Email,Add_ZipCode,Create_Name,Update_Name,Create_Time,Update_Time,yn
    </sql>
    
     <sql id="orderAddressUsedColumns">
    	User_No,Add_Name,Add_Province_Name,Add_Province_No,Add_City_Name,Add_City_No,Add_Area_Name,Add_Area_No,Add_Address,Add_Mobile,Add_Telephone,Add_Email,Add_ZipCode,Create_Name,Update_Name,Create_Time,Update_Time,yn
    </sql>

    <!-- 创建信息 -->
    <insert id="insert" parameterType="OrderAddress" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO Order_Address(<include refid="orderAddressUsedColumns"/>) 
        VALUES (#{userNo},#{addName},#{addProvinceName},#{addProvinceNo},#{addCityName},#{addCityNo},#{addAreaName},#{addAreaNo},#{addAddress},#{addMobile},#{addTelephone},#{addEmail},#{addZipcode},#{createName},#{updateName},#{createTime},#{updateTime},#{yn})
	</insert>
	
    <!-- 修改信息 -->
    <update id="update" parameterType="OrderAddress">
        <if test="_parameter != null">
            <if test="id != null and id > 0">
                update Order_Address set
		        <if test="userNo != null and userNo != ''">
                	User_No = #{userNo,jdbcType=DECIMAL},
		        </if>
		        <if test="addName != null and addName != ''">
                	Add_Name = #{addName,jdbcType=VARCHAR},
		        </if>
		        <if test="addProvinceName != null and addProvinceName != ''">
                	Add_Province_Name = #{addProvinceName,jdbcType=VARCHAR},
		        </if>
		        <if test="addProvinceNo != null and addProvinceNo != ''">
                	Add_Province_No = #{addProvinceNo,jdbcType=VARCHAR},
		        </if>
		        <if test="addCityName != null and addCityName != ''">
                	Add_City_Name = #{addCityName,jdbcType=VARCHAR},
		        </if>
		        <if test="addCityNo != null and addCityNo != ''">
                	Add_City_No = #{addCityNo,jdbcType=VARCHAR},
		        </if>
		        <if test="addAreaName != null and addAreaName != ''">
                	Add_Area_Name = #{addAreaName,jdbcType=VARCHAR},
		        </if>
		        <if test="addAreaNo != null and addAreaNo != ''">
                	Add_Area_No = #{addAreaNo,jdbcType=VARCHAR},
		        </if>
		        <if test="addAddress != null and addAddress != ''">
                	Add_Address = #{addAddress,jdbcType=VARCHAR},
		        </if>
		        <if test="addMobile != null and addMobile != ''">
                	Add_Mobile = #{addMobile,jdbcType=VARCHAR},
		        </if>
		        <if test="addTelephone != null and addTelephone != ''">
                	Add_Telephone = #{addTelephone,jdbcType=VARCHAR},
		        </if>
		        <if test="addEmail != null and addEmail != ''">
                	Add_Email = #{addEmail,jdbcType=VARCHAR},
		        </if>
		        <if test="addZipcode != null and addZipcode != ''">
                	Add_ZipCode = #{addZipcode,jdbcType=VARCHAR},
		        </if>
		        <if test="createName != null and createName != ''">
                	Create_Name = #{createName,jdbcType=VARCHAR},
		        </if>
		        <if test="updateName != null and updateName != ''">
                	Update_Name = #{updateName,jdbcType=VARCHAR},
		        </if>
                	update_time = now()
                where id = #{id}
            </if>
        </if>
    </update>

    <!-- 根据主键获取对象信息 -->
    <select id="getOrderAddressById" resultMap="OrderAddressMap" parameterType="java.lang.Long">
        <if test="_parameter != null">
            select <include refid="orderAddressColumns"/> from Order_Address
            where id = #{_parameter} and yn = 1
        </if>
    </select>

    <!-- 根据查询Bean获取数据集合，不带翻页 -->
    <select id="queryOrderAddressList" resultMap="OrderAddressMap"
            parameterType="com.awe.uc.domain.query.OrderAddressQuery">
        select <include refid="orderAddressColumns"/> from Order_Address where <include refid="queryOrderAddressListWhere"/>
    </select>

    <!-- 根据查询Bean获取数据集合，翻页 -->
    <select id="queryOrderAddressListWithPage" resultMap="OrderAddressMap"
            parameterType="com.awe.uc.domain.query.OrderAddressQuery">
        select <include refid="orderAddressColumns"/> from Order_Address where <include refid="queryOrderAddressListWhere"/>
        order by create_time desc 
        limit #{startIndex},#{pageSize}
    </select>

    <!-- 根据查询Bean查询-判断是否存在 -->
    <select id="exist" resultType="java.lang.Integer" parameterType="OrderAddress">
        select count(1) from Order_Address where yn = 1 and group_name = #{groupName,jdbcType=VARCHAR}
    </select>

    <!-- 根据查询Bean获取集合总数 -->
    <select id="queryOrderAddressCount" resultType="java.lang.Integer"
            parameterType="com.awe.uc.domain.query.OrderAddressQuery">
        select count(1) from Order_Address where <include refid="queryOrderAddressListWhere"/>
    </select>

    <!-- 删除信息-逻辑删除 -->
    <update id="delete" parameterType="OrderAddress">
		update Order_Address 
		set yn = 0, update_time = now(), update_user = #{updateUser,jdbcType=VARCHAR}
		where id = #{id}
    </update>

    <!-- 常用的查询Where条件 -->
    <sql id="queryOrderAddressListWhere">
    	yn = 1
        <if test="id != null and id != ''">
        	and id = #{id,jdbcType=DECIMAL}
        </if>
        <if test="userNo != null and userNo != ''">
        	and User_No = #{userNo,jdbcType=DECIMAL}
        </if>
        <if test="addName != null and addName != ''">
        	and Add_Name = #{addName,jdbcType=VARCHAR}
        </if>
        <if test="addProvinceName != null and addProvinceName != ''">
        	and Add_Province_Name = #{addProvinceName,jdbcType=VARCHAR}
        </if>
        <if test="addProvinceNo != null and addProvinceNo != ''">
        	and Add_Province_No = #{addProvinceNo,jdbcType=VARCHAR}
        </if>
        <if test="addCityName != null and addCityName != ''">
        	and Add_City_Name = #{addCityName,jdbcType=VARCHAR}
        </if>
        <if test="addCityNo != null and addCityNo != ''">
        	and Add_City_No = #{addCityNo,jdbcType=VARCHAR}
        </if>
        <if test="addAreaName != null and addAreaName != ''">
        	and Add_Area_Name = #{addAreaName,jdbcType=VARCHAR}
        </if>
        <if test="addAreaNo != null and addAreaNo != ''">
        	and Add_Area_No = #{addAreaNo,jdbcType=VARCHAR}
        </if>
        <if test="addAddress != null and addAddress != ''">
        	and Add_Address = #{addAddress,jdbcType=VARCHAR}
        </if>
        <if test="addMobile != null and addMobile != ''">
        	and Add_Mobile = #{addMobile,jdbcType=VARCHAR}
        </if>
        <if test="addTelephone != null and addTelephone != ''">
        	and Add_Telephone = #{addTelephone,jdbcType=VARCHAR}
        </if>
        <if test="addEmail != null and addEmail != ''">
        	and Add_Email = #{addEmail,jdbcType=VARCHAR}
        </if>
        <if test="addZipcode != null and addZipcode != ''">
        	and Add_ZipCode = #{addZipcode,jdbcType=VARCHAR}
        </if>
        <if test="createName != null and createName != ''">
        	and Create_Name = #{createName,jdbcType=VARCHAR}
        </if>
        <if test="updateName != null and updateName != ''">
        	and Update_Name = #{updateName,jdbcType=VARCHAR}
        </if>
        <if test="createTime != null and createTime != ''">
        	and Create_Time = #{createTime,jdbcType=TIMESTAMP}
        </if>
        <if test="updateTime != null and updateTime != ''">
        	and Update_Time = #{updateTime,jdbcType=TIMESTAMP}
        </if>
        <if test="yn != null and yn != ''">
        	and yn = #{yn,jdbcType=DECIMAL}
        </if>
    </sql>
</mapper>