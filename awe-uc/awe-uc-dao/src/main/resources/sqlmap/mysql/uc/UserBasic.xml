<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.awe.uc.dao.impl.UserBasicDaoImpl">
    <resultMap id="UserBasicMap" type="UserBasic">
		<result column="id" property="id" jdbcType="DECIMAL" />
		<result column="User_Id" property="userId" jdbcType="DECIMAL" />
		<result column="User_Sex" property="userSex" jdbcType="DECIMAL" />
		<result column="User_Birthday" property="userBirthday" jdbcType="TIMESTAMP" />
		<result column="User_Province_Name" property="userProvinceName" jdbcType="VARCHAR" />
		<result column="User_Province_No" property="userProvinceNo" jdbcType="VARCHAR" />
		<result column="User_City_Name" property="userCityName" jdbcType="VARCHAR" />
		<result column="User_City_No" property="userCityNo" jdbcType="VARCHAR" />
		<result column="User_Area_Name" property="userAreaName" jdbcType="VARCHAR" />
		<result column="User_Area_No" property="userAreaNo" jdbcType="VARCHAR" />
		<result column="User_Address" property="userAddress" jdbcType="VARCHAR" />
		<result column="User_Telephone" property="userTelephone" jdbcType="VARCHAR" />
		<result column="User_SafeQues" property="userSafeques" jdbcType="VARCHAR" />
		<result column="User_SafeAnswer" property="userSafeanswer" jdbcType="VARCHAR" />
		<result column="User_QQ" property="userQq" jdbcType="VARCHAR" />
		<result column="User_Grade" property="userGrade" jdbcType="DECIMAL" />
		<result column="User_Balance" property="userBalance" jdbcType="DECIMAL" />
		<result column="User_ Integral" property="user integral" jdbcType="DECIMAL" />
		<result column="Create_Time" property="createTime" jdbcType="TIMESTAMP" />
		<result column="Update_Time" property="updateTime" jdbcType="TIMESTAMP" />
		<result column="Create_Name" property="createName" jdbcType="VARCHAR" />
		<result column="Update_Name" property="updateName" jdbcType="VARCHAR" />
		<result column="yn" property="yn" jdbcType="DECIMAL" />
    </resultMap>
    
    <sql id="userBasicColumns">
    	id,User_Id,User_Sex,User_Birthday,User_Province_Name,User_Province_No,User_City_Name,User_City_No,User_Area_Name,User_Area_No,User_Address,User_Telephone,User_SafeQues,User_SafeAnswer,User_QQ,User_Grade,User_Balance,User_ Integral,Create_Time,Update_Time,Create_Name,Update_Name,yn
    </sql>
    
     <sql id="userBasicUsedColumns">
    	User_Id,User_Sex,User_Birthday,User_Province_Name,User_Province_No,User_City_Name,User_City_No,User_Area_Name,User_Area_No,User_Address,User_Telephone,User_SafeQues,User_SafeAnswer,User_QQ,User_Grade,User_Balance,User_ Integral,Create_Time,Update_Time,Create_Name,Update_Name,yn
    </sql>

    <!-- 创建信息 -->
    <insert id="insert" parameterType="UserBasic" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO user_basic(<include refid="userBasicUsedColumns"/>) 
        VALUES (#{userId},#{userSex},#{userBirthday},#{userProvinceName},#{userProvinceNo},#{userCityName},#{userCityNo},#{userAreaName},#{userAreaNo},#{userAddress},#{userTelephone},#{userSafeques},#{userSafeanswer},#{userQq},#{userGrade},#{userBalance},#{user integral},#{createTime},#{updateTime},#{createName},#{updateName},#{yn})
	</insert>
	
    <!-- 修改信息 -->
    <update id="update" parameterType="UserBasic">
        <if test="_parameter != null">
            <if test="id != null and id > 0">
                update user_basic set
		        <if test="userId != null and userId != ''">
                	User_Id = #{userId,jdbcType=DECIMAL},
		        </if>
		        <if test="userSex != null and userSex != ''">
                	User_Sex = #{userSex,jdbcType=DECIMAL},
		        </if>
		        <if test="userBirthday != null and userBirthday != ''">
                	User_Birthday = #{userBirthday,jdbcType=TIMESTAMP},
		        </if>
		        <if test="userProvinceName != null and userProvinceName != ''">
                	User_Province_Name = #{userProvinceName,jdbcType=VARCHAR},
		        </if>
		        <if test="userProvinceNo != null and userProvinceNo != ''">
                	User_Province_No = #{userProvinceNo,jdbcType=VARCHAR},
		        </if>
		        <if test="userCityName != null and userCityName != ''">
                	User_City_Name = #{userCityName,jdbcType=VARCHAR},
		        </if>
		        <if test="userCityNo != null and userCityNo != ''">
                	User_City_No = #{userCityNo,jdbcType=VARCHAR},
		        </if>
		        <if test="userAreaName != null and userAreaName != ''">
                	User_Area_Name = #{userAreaName,jdbcType=VARCHAR},
		        </if>
		        <if test="userAreaNo != null and userAreaNo != ''">
                	User_Area_No = #{userAreaNo,jdbcType=VARCHAR},
		        </if>
		        <if test="userAddress != null and userAddress != ''">
                	User_Address = #{userAddress,jdbcType=VARCHAR},
		        </if>
		        <if test="userTelephone != null and userTelephone != ''">
                	User_Telephone = #{userTelephone,jdbcType=VARCHAR},
		        </if>
		        <if test="userSafeques != null and userSafeques != ''">
                	User_SafeQues = #{userSafeques,jdbcType=VARCHAR},
		        </if>
		        <if test="userSafeanswer != null and userSafeanswer != ''">
                	User_SafeAnswer = #{userSafeanswer,jdbcType=VARCHAR},
		        </if>
		        <if test="userQq != null and userQq != ''">
                	User_QQ = #{userQq,jdbcType=VARCHAR},
		        </if>
		        <if test="userGrade != null and userGrade != ''">
                	User_Grade = #{userGrade,jdbcType=DECIMAL},
		        </if>
		        <if test="userBalance != null and userBalance != ''">
                	User_Balance = #{userBalance,jdbcType=DECIMAL},
		        </if>
		        <if test="user integral != null and user integral != ''">
                	User_ Integral = #{user integral,jdbcType=DECIMAL},
		        </if>
		        <if test="createName != null and createName != ''">
                	Create_Name = #{createName,jdbcType=VARCHAR},
		        </if>
		        <if test="updateName != null and updateName != ''">
                	Update_Name = #{updateName,jdbcType=VARCHAR},
		        </if>
                	update_time = now()
                where id = #{id}
            </if>
        </if>
    </update>

    <!-- 根据主键获取对象信息 -->
    <select id="getUserBasicById" resultMap="UserBasicMap" parameterType="java.lang.Long">
        <if test="_parameter != null">
            select <include refid="userBasicColumns"/> from user_basic
            where id = #{_parameter} and yn = 1
        </if>
    </select>

    <!-- 根据查询Bean获取数据集合，不带翻页 -->
    <select id="queryUserBasicList" resultMap="UserBasicMap"
            parameterType="com.awe.uc.domain.query.UserBasicQuery">
        select <include refid="userBasicColumns"/> from user_basic where <include refid="queryUserBasicListWhere"/>
    </select>

    <!-- 根据查询Bean获取数据集合，翻页 -->
    <select id="queryUserBasicListWithPage" resultMap="UserBasicMap"
            parameterType="com.awe.uc.domain.query.UserBasicQuery">
        select <include refid="userBasicColumns"/> from user_basic where <include refid="queryUserBasicListWhere"/>
        order by create_time desc 
        limit #{startIndex},#{pageSize}
    </select>

    <!-- 根据查询Bean查询-判断是否存在 -->
    <select id="exist" resultType="java.lang.Integer" parameterType="UserBasic">
        select count(1) from user_basic where yn = 1 and group_name = #{groupName,jdbcType=VARCHAR}
    </select>

    <!-- 根据查询Bean获取集合总数 -->
    <select id="queryUserBasicCount" resultType="java.lang.Integer"
            parameterType="com.awe.uc.domain.query.UserBasicQuery">
        select count(1) from user_basic where <include refid="queryUserBasicListWhere"/>
    </select>

    <!-- 删除信息-逻辑删除 -->
    <update id="delete" parameterType="UserBasic">
		update user_basic 
		set yn = 0, update_time = now(), update_user = #{updateUser,jdbcType=VARCHAR}
		where id = #{id}
    </update>

    <!-- 常用的查询Where条件 -->
    <sql id="queryUserBasicListWhere">
    	yn = 1
        <if test="id != null and id != ''">
        	and id = #{id,jdbcType=DECIMAL}
        </if>
        <if test="userId != null and userId != ''">
        	and User_Id = #{userId,jdbcType=DECIMAL}
        </if>
        <if test="userSex != null and userSex != ''">
        	and User_Sex = #{userSex,jdbcType=DECIMAL}
        </if>
        <if test="userBirthday != null and userBirthday != ''">
        	and User_Birthday = #{userBirthday,jdbcType=TIMESTAMP}
        </if>
        <if test="userProvinceName != null and userProvinceName != ''">
        	and User_Province_Name = #{userProvinceName,jdbcType=VARCHAR}
        </if>
        <if test="userProvinceNo != null and userProvinceNo != ''">
        	and User_Province_No = #{userProvinceNo,jdbcType=VARCHAR}
        </if>
        <if test="userCityName != null and userCityName != ''">
        	and User_City_Name = #{userCityName,jdbcType=VARCHAR}
        </if>
        <if test="userCityNo != null and userCityNo != ''">
        	and User_City_No = #{userCityNo,jdbcType=VARCHAR}
        </if>
        <if test="userAreaName != null and userAreaName != ''">
        	and User_Area_Name = #{userAreaName,jdbcType=VARCHAR}
        </if>
        <if test="userAreaNo != null and userAreaNo != ''">
        	and User_Area_No = #{userAreaNo,jdbcType=VARCHAR}
        </if>
        <if test="userAddress != null and userAddress != ''">
        	and User_Address = #{userAddress,jdbcType=VARCHAR}
        </if>
        <if test="userTelephone != null and userTelephone != ''">
        	and User_Telephone = #{userTelephone,jdbcType=VARCHAR}
        </if>
        <if test="userSafeques != null and userSafeques != ''">
        	and User_SafeQues = #{userSafeques,jdbcType=VARCHAR}
        </if>
        <if test="userSafeanswer != null and userSafeanswer != ''">
        	and User_SafeAnswer = #{userSafeanswer,jdbcType=VARCHAR}
        </if>
        <if test="userQq != null and userQq != ''">
        	and User_QQ = #{userQq,jdbcType=VARCHAR}
        </if>
        <if test="userGrade != null and userGrade != ''">
        	and User_Grade = #{userGrade,jdbcType=DECIMAL}
        </if>
        <if test="userBalance != null and userBalance != ''">
        	and User_Balance = #{userBalance,jdbcType=DECIMAL}
        </if>
        <if test="user integral != null and user integral != ''">
        	and User_ Integral = #{user integral,jdbcType=DECIMAL}
        </if>
        <if test="createTime != null and createTime != ''">
        	and Create_Time = #{createTime,jdbcType=TIMESTAMP}
        </if>
        <if test="updateTime != null and updateTime != ''">
        	and Update_Time = #{updateTime,jdbcType=TIMESTAMP}
        </if>
        <if test="createName != null and createName != ''">
        	and Create_Name = #{createName,jdbcType=VARCHAR}
        </if>
        <if test="updateName != null and updateName != ''">
        	and Update_Name = #{updateName,jdbcType=VARCHAR}
        </if>
        <if test="yn != null and yn != ''">
        	and yn = #{yn,jdbcType=DECIMAL}
        </if>
    </sql>
</mapper>